<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中国各省份人口地图</title>
    <!-- 引入 ECharts 文件 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <!-- 引入中国地图的 GeoJSON 文件 -->
    <script src="china.js"></script>
</head>

<body>
    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
    <div id="main" style="width: 800px;height:600px;"></div>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            try {
                // 初始化 echarts 实例
                var myChart = echarts.init(document.getElementById('main'));

                // 假设这是 2020 年第七次人口普查各省份的人口数据（单位：万人）
                var data = [
                    { name: '北京', value: 2189.3 },
                    { name: '天津', value: 1386.6 },
                    { name: '河北', value: 7461.02 },
                    { name: '山西', value: 3491.56 },
                    { name: '内蒙古', value: 2404.92 },
                    { name: '辽宁', value: 4259.14 },
                    { name: '吉林', value: 2407.35 },
                    { name: '黑龙江', value: 3185.01 },
                    { name: '上海', value: 2487.09 },
                    { name: '江苏', value: 8474.8 },
                    { name: '浙江', value: 6456.76 },
                    { name: '安徽', value: 6102.72 },
                    { name: '福建', value: 4154.01 },
                    { name: '江西', value: 4518.86 },
                    { name: '山东', value: 10152.75 },
                    { name: '河南', value: 9936.55 },
                    { name: '湖北', value: 5775.26 },
                    { name: '湖南', value: 6644.49 },
                    { name: '广东', value: 12601.25 },
                    { name: '海南', value: 1008.12 },
                    { name: '重庆', value: 3205.42 },
                    { name: '四川', value: 8367.49 },
                    { name: '贵州', value: 3856.21 },
                    { name: '云南', value: 4720.93 },
                    { name: '西藏', value: 364.81 },
                    { name: '陕西', value: 3952.89 },
                    { name: '甘肃', value: 2501.98 },
                    { name: '青海', value: 592.39 },
                    { name: '宁夏', value: 720.27 },
                    { name: '新疆', value: 2585.23 },
                    { name: '台湾', value: 2356.12 },
                    { name: '香港', value: 747.42 },
                    { name: '澳门', value: 68.32 }
                ];

                // 指定图表的配置项和数据
                var option = {
                    tooltip: {
                        trigger: 'item',
                        formatter: '{b}<br/>人口: {c} 万人'
                    },
                    visualMap: {
                        min: 0,
                        max: 13000,
                        text: ['高', '低'],
                        realtime: false,
                        calculable: true,
                        inRange: {
                            color: ['#e0ffff', '#006edd']
                        }
                    },
                    series: [
                        {
                            name: '人口数',
                            type: 'map',
                            mapType: 'china',
                            label: {
                                show: true,
                                color: '#000'
                            },
                            data: data
                        }
                    ]
                };

                // 使用刚指定的配置项和数据显示图表。
                myChart.setOption(option);
            } catch (error) {
                console.error('ECharts 初始化出错:', error);
            }
        });
    </script>
</body>

</html>
    
